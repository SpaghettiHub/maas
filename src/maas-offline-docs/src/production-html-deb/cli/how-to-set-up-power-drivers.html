<!DOCTYPE html>
<html>
  <head>
    <title>How to set up power drivers</title>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <style>
      .collapsible {
	  cursor: pointer;
	  border: none;
	  outline: none;
	  margin: 0;
	  padding:0;
      }

      .content {
	  display: none;
	  overflow: hidden;
      }

      .collapsible:after {
	  content: '\003E'; /* Unicode right-pointing arrow */
	  float: right;
      }
      .collapsible.active:after {
	  content: 'v'; 
      }
    </style>
    <style>
      #selector a:link{color:black;}
      #selector a:visited{color:black;}
      #selector a:active{color:black;}
      #selector a:hover{color:blue;}
      #sidebar a:link{color:black;}
      #sidebar a:visited{color:black;}
      #sidebar a:active{color:black;}
      #sidebar a:hover{color:blue;}
      #sidebar ul {margin-left:0;margin-top:0;margin-bottom:0;list-style-type:none;padding-left:20px;}
      #sidebar li {margin: 4px 0;}
      #sidebar details {margin-top:0;margin-bottom:0;}
      #sidebar details > summary {
	  padding: 0px;
	  margin-top: 0px;
	  margin-bottom: 0px;
	  width: 200px;
	  background-color: #ffffff;
	  border: none;
	  cursor: pointer;
    	  list-style-type: "< ";
	  direction: rtl;
      }
      #sidebar details[open] > summary {
	  list-style-type: "v ";
      }

      </style>
  </head>
  <body>
    <div id="selector" style="top:0; position:fixed; float:right; background-color:#d9d9d9; width:100%;border-bottom:1px solid black;">
      &nbsp;&nbsp;
      <strong>Offline docs</strong>
      <a href="https://maas.io/docs">(switch to live docs)</a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <!-- this is left in just in case we have to update --
	-- older html versions that still use tabs; tbh, we --
	-- should be slowly doing  away with these; other --
	-- changes will be needed, since the older directory --
	-- structures are no longer differentiated, but left --
	-- in place for now so we don't have to dork around --
	-- with the build tools, which expect the subdirs -->
          </div>
    <div id="sidebar" style="float:left; width:25%;margin-top:40px; margin-left:20px">
      <ul>
	<li>
	  <a href="maas-documentation.html"><b>MAAS Documentation</b></a>
	</li>
        <hr style="margin-top: 15px;">
	<li>
 	  <button class="collapsible" id="m01"><a href="tutorials.html">Tutorials&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m02">
	    <ul>
	      <li>
		<a href="tutorial-bootstrapping-maas.html">Bootstrapping MAAS</a>
	      </li>
	      <li>
		<a href="tutorial-try-the-maas-cli.html">Try the MAAS CLI</a>
	      </li>
	      <li>
		<a href="tutorial-creating-custom-images.html">Creating custom images</a>
	      </li>
	      <li>
		<a href="tutorial-get-fancy-cli-output.html">Get fancy CLI output</a>
	      </li>
	    </ul>
	  </div>
	</li>
	<hr style="margin-top: 15px;">
	<li>
	  <button class="collapsible" id="m03"><a href="how-to-guides.html">How-to guides&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m04">
	    <ul>
	      <li>
		<button class="collapsible" id="m05"><a href="how-to-set-up-maas.html">Set up MAAS&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m06">
		  <ul>
		    <li>
		      <a href="how-to-install-maas.html">Install MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-upgrade-maas.html">Upgrade MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-back-up-maas.html">Back up MAAS</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m07"><a href="how-to-manage-maas-networks.html">Manage MAAS networks&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m08">
		  <ul>
		    <li>
		      <a href="how-to-connect-maas-networks.html">Connect MAAS networks</a>
		    </li>
		    <li>
		      <a href="how-to-enable-dhcp.html">Enable DHCP</a>
		    </li>
		    <li>
		      <a href="how-to-use-availability-zones.html">Use availability zones</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m09"><a href="how-to-manage-maas-images.html">Manage MAAS images&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m10">
		  <ul>
		    <li>
		      <a href="how-to-use-standard-images.html">Use standard images</a>
		    </li>
		    <li>
		      <a href="how-to-mirror-maas-images.html">Mirror MAAS images</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-a-real-time-kernel.html">Deploy a real-time kernel</a>
		    </li>
		    <li>
		      <a href="how-to-use-vmware-images.html">Use VMWare images</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-a-fips-compliant-kernel.html">Deploy a FIPS-compliant kernel</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m12"><a href="how-to-customise-images.html">Customise images&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m13">
		  <ul>
		    <li>
		      <a href="how-to-build-maas-images.html">Build MAAS images</a>
		    </li>
		    <li>
		      <a href="how-to-build-an-ubuntu-image.html">Build an Ubuntu image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-rhel-7-image.html">Build a RHEL 7 image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-rhel-8-image.html">Build a RHEL 8 image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-centos-7-image.html">Build a CentOS 7 image</a>
		    </li>
		    <li>
		      <a href="how-to-build-an-esxi-image.html">Build an ESXi image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-windows-image.html">Build a Windows image</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m14"><a href="how-to-manage-controllers.html">Manage controllers&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m15">
		  <ul>
		    <li>
		      <a href="how-to-configure-controllers.html">Configure controllers</a>
		    </li>
		    <li>
		      <a href="how-to-enable-high-availability.html">Enable high availability</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m16"><a href="how-to-use-machines.html">Use machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m17">
		  <ul>
		    <li>
		      <a href="how-to-manage-machines.html">Manage machines</a>
		    </li>
		    <li>
		      <a href="how-to-customise-machines.html">Customise machines</a>
		    </li>
		    <li>
		      <a href="how-to-commission-machines-with-maas.html">Commission machines</a>
		    </li>
		    <li>
		      <a href="how-to-allocate-machines-with-maas.html">Allocate machines</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-machines-with-maas.html">Deploy machines</a>
		    </li>
		    <li>
		      <a href="how-to-use-resource-pools.html">Use resource pools</a>
		    </li>
		    <li>
		      <a href="how-to-set-up-power-drivers.html">Set up power drivers</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m18"><a href="how-to-manage-storage.html">Manage storage&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m19">
		  <ul>
		    <li>
		      <a href="how-to-configure-storage-layouts.html">Configure storage layouts</a>
		    </li>
		    <li>
		      <a href="how-to-manage-block-devices.html">Manage block devices</a>
		    </li>
		    <li>
		      <a href="how-to-manage-partitions.html">Manage partitions</a>
		    </li>
		    <li>
		      <a href="how-to-manage-vmfs-datastores.html">Manage VMFS datastores</a>
		    </li>
		    <li>
		      <a href="how-to-create-custom-storage.html">Create custom storage</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m20"><a href="how-to-use-virtual-machines.html">Use virtual machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m21">
		  <ul>
		    <li>
		      <a href="how-to-set-up-external-lxd.html">Set up external LXD</a>
		    </li>
		    <li>
		      <a href="how-to-use-external-lxd.html">Use external LXD</a>
		    </li>
		    <li>
		      <a href="how-to-use-lxd-projects.html">Use LXD projects</a>
		    </li>
		    <li>
		      <a href="how-to-manage-virtual-machines.html">Manage virtual machines</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-vms-on-ibm-z.html">Deploy VMs on IBM Z</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m22"><a href="how-to-label-machines.html">Label machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m23">
		  <ul>
		    <li>
		      <a href="how-to-manage-tags.html">Manage
			tags</a>
		    </li>
		    <li>
		      <a href="how-to-annotate-machines.html">Annotate
			machines</a>
		    </li>
		    <li>
		      <a href="how-to-use-machine-tags.html">Use
			machine tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-controller-tags.html">Use
			controller tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-storage-tags.html">Use
			storage tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-network-tags.html">Use
			network tags</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m24"><a href="how-to-use-logging.html">Use logging&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m25">
		  <ul>
		    <li>
		      <a href="how-to-read-event-logs.html">Read event logs</a>
		    </li>
		    <li>
		      <a href="how-to-review-audit-logs.html">Review audit logs</a>
		    </li>
		    <li>
		      <a href="how-to-read-commissioning-logs.html">Read commissioning logs</a>
		    </li>
		    <li>
		      <a href="how-to-interpret-testing-logs.html">Interpret testing logs</a>
		    </li>
		    <li>
		      <a href="how-to-use-maas-systemd-logs.html">Use MAAS systemd logs</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m26"><a href="how-to-secure-maas.html">Secure MAAS&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m27">
		  <ul>
		    <li>
		      <a href="how-to-enhance-maas-security">Enhance MAAS security</a>
		    </li>
		    <li>
		      <a href="how-to-manage-user-access.html">Manage user access</a>
		    </li>
		    <li>
		      <a href="how-to-implement-tls.html">Implement TLS</a>
		    </li>
		    <li>
		      <a href="how-to-integrate-vault.html">Integrate Vault</a>
		    </li>
		    <li>
		      <a href="how-to-configure-an-air-gapped-maas.html">Configure an air-gapped MAAS</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m28"><a href="how-to-change-maas-settings.html">Change MAAS settings&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m29">
		  <ul>
		    <li>
		      <a href="how-to-change-maas-3-4-settings.html">Change MAAS 3.4 settings</a>
		    </li>
		    <li>
		      <a href="how-to-change-maas-3-3-settings.html">Change MAAS 3.3 settings</a>
		    </li>
		    <li>
		      <a href="how-to-change-settings-with-the-cli.html">Change settings with the CLI</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m30"><a href="how-to-operate-maas.html">Operate MAAS&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m31">
		  <ul>
		    <li>
		      <a href="how-to-locate-machines.html">Locate machines</a>
		    </li>
		    <li>
		      <a href="how-to-monitor-maas.html">Monitor MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-audit-maas.html">Audit MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-upgrade-postgresql-v12-to-v14.html">Upgrade PostgreSQL v12 to v14</a>
		    </li>
		    <li>
		      <a href="how-to-troubleshoot-common-issues.html">Troubleshoot common issues</a>
		    </li>
		    <li>
		      <a href="how-to-authenticate-to-the-maas-api.html">Authenticate to the MAAS API</a>
		    </li>
		    <li>
		      <a href="how-to-use-the-python-api-client.html">Use the Python API client</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m32"><a href="how-to-join-the-community.html">Join the community&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m33">
		  <ul>
		    <li>
		      <a href="how-to-engage-on-the-discourse-forum.html">Engage on the Discourse forum</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/pro">How to get support</a>
		    </li>
		    <li>
		      <a href="how-to-request-features.html">Request features</a>
		    </li>
		    <li>
		      <a href="how-to-report-and-review-bugs.html">Report and review bugs</a>
		    </li>
		    <li>
		      <a href="how-to-contribute-to-maas-documentation.html">Contribute to MAAS documentation</a>
		    </li>
		    <li>
		      <a href="how-to-contact-us.html">How to contact us</a>
		    </li>
		  </ul>
		</div>
	      </li>
	    </ul>
	  </div>
	</li>
	<hr style="margin-top: 15px;">
	<li>
	  <button class="collapsible" id="m34"><a href="reference.html">Reference&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m35">
	    <ul>
	      <li>
		<button class="collapsible" id="m36"><a href="reference-general-information.html">General information&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m37">
		  <ul>
		    <li>
		      <a href="reference-installation-requirements.html">Installation requirements</a>
		    </li>
		    <li>
		      <a href="https://launchpad.net/maas">MAAS source code</a>
		    </li>
		    <li>
		      <a href="reference-documentation-style-guide.html">Documentation style guide</a>
		    </li>
		    <li>
		      <a href="reference-maas-glossary.html">MAAS glossary</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/community/code-of-conduct">MAAS community code of conduct</a>
		    </li>
		    <li>
		      <a href="reference-api-documentation.html">MAAS API reference</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m38"><a href="reference-maas-scripts.html">Scripts and automation&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m39">
		  <ul>
		    <li>
		      <a href="reference-commissioning-scripts.html">Commissioning scripts</a>
		    </li>
		    <li>
		      <a href="reference-hardware-test-scripts.html">Hardware test scripts</a>
		    </li>
		    <li>
		      <a href="reference-terraform.html">Terraform IAC</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<a href="reference-device-labels.html">Device labels</a>
	      </li>
	      <li>
		<a href="reference-maas-metrics.html">MAAS metrics</a>
	      </li>
	      <li>
		<a href="reference-power-drivers.html">Power drivers</a>
	      </li>
	      <li>
		<a href="reference-bmc-drivers.html">BMC drivers</a>
	      </li>
	      <li>
		<a href="reference-maas-storage.html">Storage reference</a>
	      </li>
	      <li>
		<button class="collapsible" id="m40"><a href="reference-release-notes.html">Release notes and version details&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m41">
		  <ul>
		    <li>
		      <a href="reference-release-notes-maas-3-4.html">MAAS
			3.4 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-3.html">MAAS
			3.3 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-2.html">MAAS
			3.2 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-1.html">MAAS
			3.1 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-0.html">MAAS
			3.0 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-2-9.html">MAAS
			2.9 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-2-8.html">MAAS
			2.8 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-2-7.html">MAAS
			2.7 release notes</a>
		    </li>
		  </ul>
		</div>
	      </li>
	    </ul>
	  </div>
	</li>
	<hr style="margin-top: 15px;">
	<li>
	  <button class="collapsible" id="m42"><a href="explanation.html">Explanation&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m43">
	    <ul>
	      <li>
		<a href="about-maas.html">MAAS</a>
	      </li>
	      <li>
		<button class="collapsible" id="m44"><a href="about-machines.html">Machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m45">
		  <ul>
		    <li>
		      <a    href="about-machine-basics.html">Machine
			basics</a>
		    </li>
		    <li>
		      <a href="about-commissioning-machines.html">Commissioning
			machines</a>
		    </li>
		    <li>
		      <a href="about-the-machine-life-cycle.html">The
			machine life-cycle</a>
		    </li>
		    <li>
		      <a href="about-deploying-machines.html">Deploying
			machines</a>
		    </li>
		    <li>
		      <a href="about-machine-customisation.html">Machine
			customisation</a>
		    </li>
		    <li>
		      <a href="about-deploying-running-machines.html">Deploying
			running machines</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m46"><a href="about-virtual-machines.html">Virtual machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m47">
		  <ul>
		    <li>
		      <a href="about-lxd.html">LXD</a>
		    </li>
		    <li>
		      <a href="about-lxd-projects.html">LXD projects</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m48"><a href="about-images.html">Images&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m49">
		  <ul>
		    <li>
		      <a href="about-standard-images.html">Standard images</a>
		    </li>
		    <li>
		      <a href="about-custom-images.html">Custom images</a>
		    </li>
		  </ul>
		</div>
	      <li>
		<a href="about-controllers.html">Controllers</a>
	      </li>
	      <li>
		<a href="about-device-labels.html">Device labels</a>
	      </li>
	      <li>
		<button class="collapsible" id="m50"><a href="about-maas-networks.html">MAAS networks&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m51">
		  <ul>
		    <li>
		      <a href="about-the-osi-model.html">The OSI model</a>
		    </li>
		    <li>
		      <a href="about-tcp-ip.html">TCP/IP</a>
		    </li>
		    <li>
		      <a href="about-dhcp-in-maas.html">DHCP in MAAS</a>
		    </li>
		    <li>
		      <a href="about-cloud-networking.html">Cloud networking</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m52"><a href="about-monitoring-and-logging.html">Monitoring and logging&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m53">
		  <ul>
		    <li>
		      <a href="about-maas-performance.html">MAAS performance</a>
		    </li>
		    <li>
		      <a href="about-maas-events.html">MAAS events</a>
		    </li>
		    <li>
		      <a href="about-audit-events.html">Audit events</a>
		    </li>
		    <li>
		      <a href="about-maas-logging.html">MAAS logging</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<a href="about-maas-security.html">Ensuring security in MAAS</a>
	      </li>
	      <li>
	      </li>
	    </ul>
	  </div>
	</li>
      </ul>
    </div>
    <div class="container" style="float:left; width:60%; margin-left: 40px; margin-top:40px; margin-right:30px">
      
      <h1>How to set up power drivers</h1>
      <blockquote>
      <p><em>Errors or typos? Topics missing? Hard to read? <a href="https://docs.google.com/forms/d/e/1FAIpQLScIt3ffetkaKW3gDv6FDk7CfUTNYP_HGmqQotSTtj2htKkVBw/viewform?usp=pp_url&entry.1739714854=https://maas.io/docs/setting-up-power-drivers" target = "_blank">Let us know.</a></em></p>
      </blockquote>
      <p>To manage a machine, MAAS must be able to power cycle it, usually through the machine’s <a href="https://en.wikipedia.org/wiki/Intelligent_Platform_Management_Interface#Baseboard_management_controller">BMC</a><strong>^</strong> card. Until you configure the power type, a newly-added machine can’t be enlisted and used by MAAS. This page provides a number of detailed power driver procedures, accompanied by necessary explanation.</p>
      <h2 id="cipher-suites-3.2">Cipher suites (3.2++)</h2>
      <p>Cipher suite selection is a manual task because different BMCs have varying orders, causing incorrect discovery. You can specify the cipher suite to use with a BMC during power configuration. The default suite is 3, known for its low security. It’s your responsibility to choose a more secure suite if needed and supported.</p>
      <h2 id="redfish-over-ipmi-3.2">Redfish over IPMI (3.2++)</h2>
      <p>Redfish serves as an alternative to IPMI for interfacing with BMCs. Offering extended features compared to IPMI, Redfish is poised to replace it as the default. MAAS 3.2 improved Redfish support, prioritising it over IPMI when:</p>
      <ul>
      <li>The BMC has an active Redfish Host Interface</li>
      <li>The MAAS host can access that interface</li>
      </ul>
      <p>With version 3.2, MAAS brings auto-detection and preference for Redfish when enabled and available.</p>
      <p>Unregistered machines on the MAAS PXE network can be manually booted. They enter an ephemeral environment to collect machine data. A script in this environment registers the machine in MAAS. As of v3.2, Redfish and IPMI are both supported for these BMC connections. MAAS can now automatically detect and configure either, given that a Redfish Host Interface is enabled and exposed.</p>
      <h2 id="verifying-redfish-activation">Verifying Redfish activation</h2>
      <p>You can check if a machine communicates via Redfish with the command:</p>
      <pre class="nohighlight"><code>dmidecode -t 42</code></pre>
      <p>Additionally, you can review the <code>30-maas-01-bmc-config</code> commissioning script’s output if the machine is already enlisted in MAAS.</p>
      <h2 id="cipher-suites-3.1">Cipher suites (3.1–)</h2>
      <p>In these versions, MAAS aims to automatically identify the most secure cipher suite. The preference hierarchy is 17, 3, 8, 12. Should auto-detection fail, MAAS reverts to freeipmi-tool’s default setting, suite 3.</p>
      <h2 id="power-management">Power management</h2>
      <p>In addition to detailed instructions, this article provides a <a href="#heading--power-catalogue">complete catalogue of power parameters, by type</a>.</p>
      <p>You may also like to try <a href="https://gilesknap.github.io/maaspower/main/index.html">maaspower</a><strong>^</strong> which is a community project designed to be used with the MAAS webhook driver. It is a pluggable system that accepts MAAS webhooks and can translate them to other external systems. Note: it is not supported by Canonical.</p>
      <h2 id="set-power-type-ui">Set power type (UI)</h2>
      <p>To configure a machine’s power type, click on the machine from the ‘Machines’ page of the web UI, then select its ‘Configuration’ tab. Scroll down until you find the Power configuration. If the power type is undefined, the following will be displayed:</p>
      <figure>
      <img src="/home/stormrider/git/maas-doc/production-html-deb/images/4fae59771ac0db83dfa8b279e374ddbcf534b228.png" alt="" /><figcaption>image</figcaption>
      </figure>
      <p>Choose a type in the drop-down menu that corresponds to the machine’s underlying machine’s BMC card.</p>
      <figure>
      <img src="/home/stormrider/git/maas-doc/production-html-deb/images/b53c66135a6e33caed9840f3197dd7117b34034a.png" alt="" /><figcaption>image</figcaption>
      </figure>
      <p>Fill in the resulting form; the information required will depends on the power type:</p>
      <table>
      <thead>
      <tr class="header">
      <th style="text-align: left;">CLI power_type code</th>
      <th style="text-align: left;">Description</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td style="text-align: left;">amt</td>
      <td style="text-align: left;">Intel AMT</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">apc PDU</td>
      <td style="text-align: left;"></td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">dli</td>
      <td style="text-align: left;">Digital Loggers, Inc. PDU</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">hmc</td>
      <td style="text-align: left;"></td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">lxd</td>
      <td style="text-align: left;">LXD VM</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">ipmi</td>
      <td style="text-align: left;">IPMI</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">manual</td>
      <td style="text-align: left;">Manual power configuration</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">moonshot</td>
      <td style="text-align: left;"></td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">mscm</td>
      <td style="text-align: left;">HP Moonshot - iLO Chassis Manager</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">msftocs</td>
      <td style="text-align: left;">Microsoft OCS - Chassis Manager</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">nova</td>
      <td style="text-align: left;">OpenStack Nova</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">openbmc</td>
      <td style="text-align: left;">OpenBMC Power Driver</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">proxmox</td>
      <td style="text-align: left;">ProxMox Power Driver</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">recs_box</td>
      <td style="text-align: left;">Christmann RECS-Box Power Driver</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">redfish</td>
      <td style="text-align: left;">Redfish</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">sm15k</td>
      <td style="text-align: left;">SeaMicro 15000</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">ucsm</td>
      <td style="text-align: left;">Cisco UCS Manager</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">virsh</td>
      <td style="text-align: left;">libvirt KVM</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">vmware</td>
      <td style="text-align: left;">VMware</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">webhook</td>
      <td style="text-align: left;">Webhook</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">wedge</td>
      <td style="text-align: left;">Facebook’s Wedge</td>
      </tr>
      </tbody>
      </table>
      <p>See the <a href="how-to-set-up-power-drivers.html">power catalogue</a> for detailed parameters for each of these power types.</p>
      <p>Click ‘Save changes’ to finish. Once that’s done, MAAS performs a power check on the machine. A successful power check is a good indication that MAAS can properly communicate with the machine, that is, it should quickly result in a power status of “Power off”. A failed attempt will show:</p>
      <figure>
      <img src="/home/stormrider/git/maas-doc/production-html-deb/images/3bd5e93bb52154566153802c041098b7b3e4adc5.png" alt="" /><figcaption>image</figcaption>
      </figure>
      <p>If you see this error, double-check your entered values by editing the power type, or consider another power type altogether.</p>
      <p>Another possible cause for this error may be the networking: traffic may be getting filtered between the rack controller and the BMC card.</p>
      <h2 id="set-power-type-cli">Set power type (CLI)</h2>
      <p>To (re)configure a machine’s power type, first find the machine’s $SYSTEM_ID with the following recipe:</p>
      <pre class="nohighlight"><code>maas admin machines read | jq -r &#39;([&quot;HOSTNAME&quot;,&quot;SIS&#39;S&quot;] | (., map(length*&quot;-&quot;))),
      (.[] | [.hostname, .system_id]) | @tsv&#39; | column -t</code></pre>
      <p>Next, use the MAAS CLIset the machine’s power type, like this:</p>
      <pre><code>maas $PROFILE machine update $SYSTEM_ID power_type=&quot;$POWER_TYPE&quot;</code></pre>
      <p>where $POWER_TYPE can have the following values:</p>
      <table>
      <thead>
      <tr class="header">
      <th style="text-align: left;">CLI power_type code</th>
      <th style="text-align: left;">Description</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td style="text-align: left;">amt</td>
      <td style="text-align: left;">Intel AMT</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">apc PDU</td>
      <td style="text-align: left;"></td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">dli</td>
      <td style="text-align: left;">Digital Loggers, Inc. PDU</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">eaton</td>
      <td style="text-align: left;">Eaton PDU</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">hmc</td>
      <td style="text-align: left;"></td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">lxd</td>
      <td style="text-align: left;">LXD VM</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">ipmi</td>
      <td style="text-align: left;">IPMI</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">manual</td>
      <td style="text-align: left;">Manual power configuration</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">moonshot</td>
      <td style="text-align: left;"></td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">mscm</td>
      <td style="text-align: left;">HP Moonshot - iLO Chassis Manager</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">msftocs</td>
      <td style="text-align: left;">Microsoft OCS - Chassis Manager</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">nova</td>
      <td style="text-align: left;">OpenStack Nova</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">openbmc</td>
      <td style="text-align: left;">OpenBMC Power Driver</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">recs_box</td>
      <td style="text-align: left;">Christmann RECS-Box Power Driver</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">redfish</td>
      <td style="text-align: left;">Redfish</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">sm15k</td>
      <td style="text-align: left;">SeaMicro 15000</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">ucsm</td>
      <td style="text-align: left;">Cisco UCS Manager</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">virsh</td>
      <td style="text-align: left;">libvirt KVM</td>
      </tr>
      <tr class="odd">
      <td style="text-align: left;">vmware</td>
      <td style="text-align: left;">VMware</td>
      </tr>
      <tr class="even">
      <td style="text-align: left;">wedge</td>
      <td style="text-align: left;">Facebook’s Wedge</td>
      </tr>
      </tbody>
      </table>
      <p>See the <a href="how-to-set-up-power-drivers.html">power catalogue</a> for detailed parameters for each of these power types.</p>
      <p>Once you’ve successfully processed the command (as indicated by a stream of JSON, headed by “Success!”), MAAS performs a power check on the machine. A successful power check is a good indication that MAAS can properly communicate with the machine, that is, it should quickly result in a power status of “Power off”. A failed attempt will return errors that should guide you to fix your <code>power_parameters</code>.</p>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
	  let coll = document.getElementsByClassName("collapsible");

	  for (let i = 0; i < coll.length; i++) {
	      coll[i].addEventListener("click", function() {
		  toggleCollapsible(this);
	      });
	  }
      });

      function toggleCollapsible(element) {
	  element.classList.toggle("active");
	  let content = element.nextElementSibling;
	  if (content.style.display === "none" || content.style.display === "") {
	      content.style.display = "block";
	  } else {
	      content.style.display = "none";
	  }
      }

      // Assuming you have a way to identify which menu item should be open, e.g., via URL
      function openMenuItemBasedOnPage() {
	  let currentPage = window.location.href; // or however you determine the current page
	  let menuItem;

	  // Logic to determine which menu item corresponds to the current page
	  if (currentPage.includes("page1")) {
	      menuItem = document.getElementById("menu-item-1");
	  } else if (currentPage.includes("page2")) {
	      menuItem = document.getElementById("menu-item-2");
	  }

	  if (menuItem) {
	      toggleCollapsible(menuItem);
	      menuItem.classList.add("active");
	  }
      }

      // Call this function when the page loads
      openMenuItemBasedOnPage();
    </script>
  </body>
</html>

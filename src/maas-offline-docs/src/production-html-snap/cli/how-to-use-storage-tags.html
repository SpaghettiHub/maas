<!DOCTYPE html>
<html>
  <head>
    <title>How to use storage tags</title>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <style>
      .collapsible {
	  cursor: pointer;
	  border: none;
	  outline: none;
	  margin: 0;
	  padding:0;
      }

      .content {
	  display: none;
	  overflow: hidden;
      }

      .collapsible:after {
	  content: '\003E'; /* Unicode right-pointing arrow */
	  float: right;
      }
      .collapsible.active:after {
	  content: 'v'; 
      }
    </style>
    <style>
      #selector a:link{color:black;}
      #selector a:visited{color:black;}
      #selector a:active{color:black;}
      #selector a:hover{color:blue;}
      #sidebar a:link{color:black;}
      #sidebar a:visited{color:black;}
      #sidebar a:active{color:black;}
      #sidebar a:hover{color:blue;}
      #sidebar ul {margin-left:0;margin-top:0;margin-bottom:0;list-style-type:none;padding-left:20px;}
      #sidebar li {margin: 4px 0;}
      #sidebar details {margin-top:0;margin-bottom:0;}
      #sidebar details > summary {
	  padding: 0px;
	  margin-top: 0px;
	  margin-bottom: 0px;
	  width: 200px;
	  background-color: #ffffff;
	  border: none;
	  cursor: pointer;
    	  list-style-type: "< ";
	  direction: rtl;
      }
      #sidebar details[open] > summary {
	  list-style-type: "v ";
      }

      </style>
  </head>
  <body>
    <div id="selector" style="top:0; position:fixed; float:right; background-color:#d9d9d9; width:100%;border-bottom:1px solid black;">
      &nbsp;&nbsp;
      <strong>Offline docs</strong>
      <a href="https://maas.io/docs">(switch to live docs)</a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <!-- this is left in just in case we have to update --
	-- older html versions that still use tabs; tbh, we --
	-- should be slowly doing  away with these; other --
	-- changes will be needed, since the older directory --
	-- structures are no longer differentiated, but left --
	-- in place for now so we don't have to dork around --
	-- with the build tools, which expect the subdirs -->
          </div>
    <div id="sidebar" style="float:left; width:25%;margin-top:40px; margin-left:20px">
      <ul>
	<li>
	  <a href="maas-documentation.html"><b>MAAS Documentation</b></a>
	</li>
        <hr style="margin-top: 15px;">
	<li>
 	  <button class="collapsible" id="m01"><a href="tutorials.html">Tutorials&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m02">
	    <ul>
	      <li>
		<a href="tutorial-bootstrapping-maas.html">Bootstrapping MAAS</a>
	      </li>
	      <li>
		<a href="tutorial-try-the-maas-cli.html">Try the MAAS CLI</a>
	      </li>
	      <li>
		<a href="tutorial-creating-custom-images.html">Creating custom images</a>
	      </li>
	      <li>
		<a href="tutorial-get-fancy-cli-output.html">Get fancy CLI output</a>
	      </li>
	    </ul>
	  </div>
	</li>
	<hr style="margin-top: 15px;">
	<li>
	  <button class="collapsible" id="m03"><a href="how-to-guides.html">How-to guides&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m04">
	    <ul>
	      <li>
		<button class="collapsible" id="m05"><a href="how-to-set-up-maas.html">Set up MAAS&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m06">
		  <ul>
		    <li>
		      <a href="how-to-install-maas.html">Install MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-upgrade-maas.html">Upgrade MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-back-up-maas.html">Back up MAAS</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m07"><a href="how-to-manage-maas-networks.html">Manage MAAS networks&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m08">
		  <ul>
		    <li>
		      <a href="how-to-connect-maas-networks.html">Connect MAAS networks</a>
		    </li>
		    <li>
		      <a href="how-to-enable-dhcp.html">Enable DHCP</a>
		    </li>
		    <li>
		      <a href="how-to-use-availability-zones.html">Use availability zones</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m09"><a href="how-to-manage-maas-images.html">Manage MAAS images&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m10">
		  <ul>
		    <li>
		      <a href="how-to-use-standard-images.html">Use standard images</a>
		    </li>
		    <li>
		      <a href="how-to-mirror-maas-images.html">Mirror MAAS images</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-a-real-time-kernel.html">Deploy a real-time kernel</a>
		    </li>
		    <li>
		      <a href="how-to-use-vmware-images.html">Use VMWare images</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-a-fips-compliant-kernel.html">Deploy a FIPS-compliant kernel</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m12"><a href="how-to-customise-images.html">Customise images&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m13">
		  <ul>
		    <li>
		      <a href="how-to-build-maas-images.html">Build MAAS images</a>
		    </li>
		    <li>
		      <a href="how-to-build-an-ubuntu-image.html">Build an Ubuntu image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-rhel-7-image.html">Build a RHEL 7 image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-rhel-8-image.html">Build a RHEL 8 image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-centos-7-image.html">Build a CentOS 7 image</a>
		    </li>
		    <li>
		      <a href="how-to-build-an-esxi-image.html">Build an ESXi image</a>
		    </li>
		    <li>
		      <a href="how-to-build-a-windows-image.html">Build a Windows image</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m14"><a href="how-to-manage-controllers.html">Manage controllers&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m15">
		  <ul>
		    <li>
		      <a href="how-to-configure-controllers.html">Configure controllers</a>
		    </li>
		    <li>
		      <a href="how-to-enable-high-availability.html">Enable high availability</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m16"><a href="how-to-use-machines.html">Use machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m17">
		  <ul>
		    <li>
		      <a href="how-to-manage-machines.html">Manage machines</a>
		    </li>
		    <li>
		      <a href="how-to-customise-machines.html">Customise machines</a>
		    </li>
		    <li>
		      <a href="how-to-commission-machines-with-maas.html">Commission machines</a>
		    </li>
		    <li>
		      <a href="how-to-allocate-machines-with-maas.html">Allocate machines</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-machines-with-maas.html">Deploy machines</a>
		    </li>
		    <li>
		      <a href="how-to-use-resource-pools.html">Use resource pools</a>
		    </li>
		    <li>
		      <a href="how-to-set-up-power-drivers.html">Set up power drivers</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m18"><a href="how-to-manage-storage.html">Manage storage&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m19">
		  <ul>
		    <li>
		      <a href="how-to-configure-storage-layouts.html">Configure storage layouts</a>
		    </li>
		    <li>
		      <a href="how-to-manage-block-devices.html">Manage block devices</a>
		    </li>
		    <li>
		      <a href="how-to-manage-partitions.html">Manage partitions</a>
		    </li>
		    <li>
		      <a href="how-to-manage-vmfs-datastores.html">Manage VMFS datastores</a>
		    </li>
		    <li>
		      <a href="how-to-create-custom-storage.html">Create custom storage</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m20"><a href="how-to-use-virtual-machines.html">Use virtual machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m21">
		  <ul>
		    <li>
		      <a href="how-to-set-up-external-lxd.html">Set up external LXD</a>
		    </li>
		    <li>
		      <a href="how-to-use-external-lxd.html">Use external LXD</a>
		    </li>
		    <li>
		      <a href="how-to-use-lxd-projects.html">Use LXD projects</a>
		    </li>
		    <li>
		      <a href="how-to-manage-virtual-machines.html">Manage virtual machines</a>
		    </li>
		    <li>
		      <a href="how-to-deploy-vms-on-ibm-z.html">Deploy VMs on IBM Z</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m22"><a href="how-to-label-machines.html">Label machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m23">
		  <ul>
		    <li>
		      <a href="how-to-manage-tags.html">Manage
			tags</a>
		    </li>
		    <li>
		      <a href="how-to-annotate-machines.html">Annotate
			machines</a>
		    </li>
		    <li>
		      <a href="how-to-use-machine-tags.html">Use
			machine tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-controller-tags.html">Use
			controller tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-storage-tags.html">Use
			storage tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-network-tags.html">Use
			network tags</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m24"><a href="how-to-use-logging.html">Use logging&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m25">
		  <ul>
		    <li>
		      <a href="how-to-read-event-logs.html">Read event logs</a>
		    </li>
		    <li>
		      <a href="how-to-review-audit-logs.html">Review audit logs</a>
		    </li>
		    <li>
		      <a href="how-to-read-commissioning-logs.html">Read commissioning logs</a>
		    </li>
		    <li>
		      <a href="how-to-interpret-testing-logs.html">Interpret testing logs</a>
		    </li>
		    <li>
		      <a href="how-to-use-maas-systemd-logs.html">Use MAAS systemd logs</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m26"><a href="how-to-secure-maas.html">Secure MAAS&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m27">
		  <ul>
		    <li>
		      <a href="how-to-enhance-maas-security">Enhance MAAS security</a>
		    </li>
		    <li>
		      <a href="how-to-manage-user-access.html">Manage user access</a>
		    </li>
		    <li>
		      <a href="how-to-implement-tls.html">Implement TLS</a>
		    </li>
		    <li>
		      <a href="how-to-integrate-vault.html">Integrate Vault</a>
		    </li>
		    <li>
		      <a href="how-to-configure-an-air-gapped-maas.html">Configure an air-gapped MAAS</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m28"><a href="how-to-change-maas-settings.html">Change MAAS settings&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m29">
		  <ul>
		    <li>
		      <a href="how-to-change-maas-3-4-settings.html">Change MAAS 3.4 settings</a>
		    </li>
		    <li>
		      <a href="how-to-change-maas-3-3-settings.html">Change MAAS 3.3 settings</a>
		    </li>
		    <li>
		      <a href="how-to-change-settings-with-the-cli.html">Change settings with the CLI</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m30"><a href="how-to-operate-maas.html">Operate MAAS&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m31">
		  <ul>
		    <li>
		      <a href="how-to-locate-machines.html">Locate machines</a>
		    </li>
		    <li>
		      <a href="how-to-monitor-maas.html">Monitor MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-audit-maas.html">Audit MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-upgrade-postgresql-v12-to-v14.html">Upgrade PostgreSQL v12 to v14</a>
		    </li>
		    <li>
		      <a href="how-to-troubleshoot-common-issues.html">Troubleshoot common issues</a>
		    </li>
		    <li>
		      <a href="how-to-authenticate-to-the-maas-api.html">Authenticate to the MAAS API</a>
		    </li>
		    <li>
		      <a href="how-to-use-the-python-api-client.html">Use the Python API client</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m32"><a href="how-to-join-the-community.html">Join the community&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m33">
		  <ul>
		    <li>
		      <a href="how-to-engage-on-the-discourse-forum.html">Engage on the Discourse forum</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/pro">How to get support</a>
		    </li>
		    <li>
		      <a href="how-to-request-features.html">Request features</a>
		    </li>
		    <li>
		      <a href="how-to-report-and-review-bugs.html">Report and review bugs</a>
		    </li>
		    <li>
		      <a href="how-to-contribute-to-maas-documentation.html">Contribute to MAAS documentation</a>
		    </li>
		    <li>
		      <a href="how-to-contact-us.html">How to contact us</a>
		    </li>
		  </ul>
		</div>
	      </li>
	    </ul>
	  </div>
	</li>
	<hr style="margin-top: 15px;">
	<li>
	  <button class="collapsible" id="m34"><a href="reference.html">Reference&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m35">
	    <ul>
	      <li>
		<button class="collapsible" id="m36"><a href="reference-general-information.html">General information&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m37">
		  <ul>
		    <li>
		      <a href="reference-installation-requirements.html">Installation requirements</a>
		    </li>
		    <li>
		      <a href="https://launchpad.net/maas">MAAS source code</a>
		    </li>
		    <li>
		      <a href="reference-documentation-style-guide.html">Documentation style guide</a>
		    </li>
		    <li>
		      <a href="reference-maas-glossary.html">MAAS glossary</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/community/code-of-conduct">MAAS community code of conduct</a>
		    </li>
		    <li>
		      <a href="reference-api-documentation.html">MAAS API reference</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m38"><a href="reference-maas-scripts.html">Scripts and automation&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m39">
		  <ul>
		    <li>
		      <a href="reference-commissioning-scripts.html">Commissioning scripts</a>
		    </li>
		    <li>
		      <a href="reference-hardware-test-scripts.html">Hardware test scripts</a>
		    </li>
		    <li>
		      <a href="reference-terraform.html">Terraform IAC</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<a href="reference-device-labels.html">Device labels</a>
	      </li>
	      <li>
		<a href="reference-maas-metrics.html">MAAS metrics</a>
	      </li>
	      <li>
		<a href="reference-power-drivers.html">Power drivers</a>
	      </li>
	      <li>
		<a href="reference-bmc-drivers.html">BMC drivers</a>
	      </li>
	      <li>
		<a href="reference-maas-storage.html">Storage reference</a>
	      </li>
	      <li>
		<button class="collapsible" id="m40"><a href="reference-release-notes.html">Release notes and version details&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m41">
		  <ul>
		    <li>
		      <a href="reference-release-notes-maas-3-4.html">MAAS
			3.4 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-3.html">MAAS
			3.3 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-2.html">MAAS
			3.2 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-1.html">MAAS
			3.1 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-3-0.html">MAAS
			3.0 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-2-9.html">MAAS
			2.9 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-2-8.html">MAAS
			2.8 release notes</a>
		    </li>
		    <li>
		      <a href="reference-release-notes-maas-2-7.html">MAAS
			2.7 release notes</a>
		    </li>
		  </ul>
		</div>
	      </li>
	    </ul>
	  </div>
	</li>
	<hr style="margin-top: 15px;">
	<li>
	  <button class="collapsible" id="m42"><a href="explanation.html">Explanation&nbsp;&nbsp;&nbsp;</a></button>
	  <div class="content" id="m43">
	    <ul>
	      <li>
		<a href="about-maas.html">MAAS</a>
	      </li>
	      <li>
		<button class="collapsible" id="m44"><a href="about-machines.html">Machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m45">
		  <ul>
		    <li>
		      <a    href="about-machine-basics.html">Machine
			basics</a>
		    </li>
		    <li>
		      <a href="about-commissioning-machines.html">Commissioning
			machines</a>
		    </li>
		    <li>
		      <a href="about-the-machine-life-cycle.html">The
			machine life-cycle</a>
		    </li>
		    <li>
		      <a href="about-deploying-machines.html">Deploying
			machines</a>
		    </li>
		    <li>
		      <a href="about-machine-customisation.html">Machine
			customisation</a>
		    </li>
		    <li>
		      <a href="about-deploying-running-machines.html">Deploying
			running machines</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m46"><a href="about-virtual-machines.html">Virtual machines&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m47">
		  <ul>
		    <li>
		      <a href="about-lxd.html">LXD</a>
		    </li>
		    <li>
		      <a href="about-lxd-projects.html">LXD projects</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m48"><a href="about-images.html">Images&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m49">
		  <ul>
		    <li>
		      <a href="about-standard-images.html">Standard images</a>
		    </li>
		    <li>
		      <a href="about-custom-images.html">Custom images</a>
		    </li>
		  </ul>
		</div>
	      <li>
		<a href="about-controllers.html">Controllers</a>
	      </li>
	      <li>
		<a href="about-device-labels.html">Device labels</a>
	      </li>
	      <li>
		<button class="collapsible" id="m50"><a href="about-maas-networks.html">MAAS networks&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m51">
		  <ul>
		    <li>
		      <a href="about-the-osi-model.html">The OSI model</a>
		    </li>
		    <li>
		      <a href="about-tcp-ip.html">TCP/IP</a>
		    </li>
		    <li>
		      <a href="about-dhcp-in-maas.html">DHCP in MAAS</a>
		    </li>
		    <li>
		      <a href="about-cloud-networking.html">Cloud networking</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<button class="collapsible" id="m52"><a href="about-monitoring-and-logging.html">Monitoring and logging&nbsp;&nbsp;&nbsp;</a></button>
		<div class="content" id="m53">
		  <ul>
		    <li>
		      <a href="about-maas-performance.html">MAAS performance</a>
		    </li>
		    <li>
		      <a href="about-maas-events.html">MAAS events</a>
		    </li>
		    <li>
		      <a href="about-audit-events.html">Audit events</a>
		    </li>
		    <li>
		      <a href="about-maas-logging.html">MAAS logging</a>
		    </li>
		  </ul>
		</div>
	      </li>
	      <li>
		<a href="about-maas-security.html">Ensuring security in MAAS</a>
	      </li>
	      <li>
	      </li>
	    </ul>
	  </div>
	</li>
      </ul>
    </div>
    <div class="container" style="float:left; width:60%; margin-left: 40px; margin-top:40px; margin-right:30px">
      
      <h1>How to use storage tags</h1>
      <blockquote>
      <p><em>Errors or typos? Topics missing? Hard to read? <a href="https://docs.google.com/forms/d/e/1FAIpQLScIt3ffetkaKW3gDv6FDk7CfUTNYP_HGmqQotSTtj2htKkVBw/viewform?usp=pp_url&entry.1739714854=https://maas.io/docs/using-storage-tags" target = "_blank">Let us know.</a></em></p>
      </blockquote>
      <p>This page explains how to use MAAS storage tags. In order to create or modify block device tags, the device has to be in an “available” state, with no active partitions.</p>
      <h2 id="create-block-device-tags-ui">Create block device tags (UI)</h2>
      <p>To create and assign tags to block devices, select <em>Machines</em> &gt; machine &gt; <em>Storage</em> &gt; <em>Available disks and partitions</em> &gt; <em>Edit…</em>. Add <em>Tags</em> as desired, and <em>Save</em>.</p>
      <h2 id="delete-block-device-tags-ui">Delete block device tags (UI)</h2>
      <p>To create and assign tags to block devices, select <em>Machines</em> &gt; machine &gt; <em>Storage</em> &gt; <em>Available disks and partitions</em> &gt; <em>Edit…</em>. Remove tags by selecting the <em>X</em> on the tag name, and <em>Save</em> your changes.</p>
      <h2 id="list-storage-tags-ui">List storage tags (UI)</h2>
      <p>To see block device and partition tags in the UI, you can list all storage links by using the filter tool on the machine list. Select <em>Machines</em> &gt; <em>Filters</em> &gt; <em>Storage tags</em>. Select tag(s) to filter against; the screen will immediately narrow to match your selections. Uncheck tags to return to the previous view.</p>
      <h2 id="view-block-device-tags-ui">View block device tags (UI)</h2>
      <p>To view all tags associated with block devices on a given machine, select <em>Machines</em> &gt; machine &gt; <em>Storage</em> &gt; <em>Available disks and partitions</em>.</p>
      <h2 id="view-partition-tags-ui">View partition tags (UI)</h2>
      <p>To view all tags associated with partitions on a given machine, select <em>Machines</em> &gt; machine &gt; <em>Storage</em> &gt; <em>Available disks and partitions</em>.</p>
      <h2 id="find-block-device-id-cli">Find block device ID (CLI)</h2>
      <p>Block devices do not exist apart from the physical or virtual machines to which they are attached. Finding the ID of the block device that interests you requires starting with a particular machine, in a command form that looks like this:</p>
      <pre class="nohighlight"><code>maas $PROFILE block-devices read $SYSTEM_ID \
      | jq -r &#39;([&quot;system_id&quot;,&quot;block_device_id&quot;,&quot;path&quot;,&quot;avail_size&quot;]
      |(.,map(length*&quot;-&quot;))),(.[]|[.system_id,.id,.path,.available_size])
      | @tsv&#39; | column -t</code></pre>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin block-devices read qk4b3g \
      | jq -r &#39;([&quot;system_id&quot;,&quot;block_device_id&quot;,&quot;path&quot;,&quot;avail_size&quot;]
      |(.,map(length*&quot;-&quot;))),(.[]|[.system_id,.id,.path,.available_size])
      | @tsv&#39; | column -t</code></pre>
      <p>This example would produce output that looks something like this:</p>
      <pre class="nohighlight"><code>system_id  block_device_id  path                    avail_size
      ---------  ---------------  ----                    ----------
      qk4b3g     10               /dev/disk/by-dname/sda  0</code></pre>
      <p>The <code>path</code> component is printed to help you confirm that you are choosing the right block device when there are several present. The <code>avail-size</code> column will tell you whether you can operate on that block device at all. If the available size is “0,” for example, you can’t set a block device tag on any part of that drive. Instead, you’d want to see something like this:</p>
      <pre class="nohighlight"><code>system_id  block_device_id  path                    avail_size
      ---------  ---------------  ----                    ----------
      xn8taa     8                /dev/disk/by-dname/sda  1996488704</code></pre>
      <h2 id="assign-block-device-tags-cli">Assign block device tags (CLI)</h2>
      <p>You can only assign tags to a block device that is available. You can find out whether the block device is available at all when you <a href="#heading--discover-the-id-of-your-block-device">discover its ID</a>.</p>
      <p>To assign an existing tag to a block device, you would type a command formulated like this:</p>
      <pre class="nohighlight"><code>maas $PROFILE block-device add-tag $SYSTEM_ID $BLOCK_DEVICE_ID tag=$TAG_NAME</code></pre>
      <p>If you’re not sure about the ID of your block device, you can <a href="#heading--discover-the-id-of-your-block-device">look it up</a>.</p>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin block-device add-tag xn8taa 8 tag=farquar</code></pre>
      <p>If this command succeeds, it will display <code>Success</code>, followed by a JSON sequence describing the new state of the block device.</p>
      <p>Note that if you try to add a tag to a block device that is not available, that is, to a block device that is in use, you will get a result like this:</p>
      <pre class="nohighlight"><code>Not Found</code></pre>
      <h2 id="remove-block-device-tags-cli">Remove block device tags (CLI)</h2>
      <p>You can only remove tags from a block device that is available. You can find out whether the block device is available at all when you <a href="#heading--discover-the-id-of-your-block-device">discover its ID</a>.</p>
      <p>To remove an assigned tag from a block device, you would type a command formulated like this:</p>
      <pre class="nohighlight"><code>maas $PROFILE block-device remove-tag $SYSTEM_ID $BLOCK_DEVICE_ID tag=$TAG_NAME</code></pre>
      <p>If you’re not sure about the ID of your block device, you can <a href="#heading--discover-the-id-of-your-block-device">look it up</a>.</p>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin block-device remove-tag xn8taa 8 tag=farquar</code></pre>
      <p>If this command succeeds, it will display <code>Success</code>, followed by a JSON sequence describing the new state of the block device.</p>
      <p>Note that if you try to remove a tag from a block device that is not available, that is, from a block device that is in use, you will get a result like this:</p>
      <pre class="nohighlight"><code>Not Found</code></pre>
      <p>On the other hand, if you try to remove a tag that is not assigned to the block device you’ve chosen, MAAS will simply return <code>Success</code>, followed by a JSON sequence describing the current state of the block device.</p>
      <h2 id="list-tags-for-all-block-devices-cli">List tags for all block devices (CLI)</h2>
      <p>To list tags for all block devices associated with a physical or virtual machine, you can use a command of this form:</p>
      <pre class="nohighlight"><code>maas $PROFILE block-devices read $SYSTEM_ID | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]|(.,map(length*&quot;-&quot;))),(.[]|[.id,.tags[]]) | @tsv&#39; | column -t</code></pre>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin block-devices read xn8taa | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]|(.,map(length*&quot;-&quot;))),(.[]|[.id,.tags[]]) | @tsv&#39; | column -t</code></pre>
      <p>This command would produce output similar to this:</p>
      <pre class="nohighlight"><code>id  tags
      --  ----
      8   hello  ssd  trinkoplinko</code></pre>
      <h2 id="view-tags-for-one-block-device-cli">View tags for one block device (CLI)</h2>
      <p>To view tags for one specific block device, you can enter a command like this:</p>
      <pre class="nohighlight"><code>maas $PROFILE block-device read $SYSTEM_ID $BLOCK_DEVICE_ID | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]|(.,map(length*&quot;-&quot;))),([.id,.tags[]]) | @tsv&#39; | column -t</code></pre>
      <p>If you’re not sure about the ID of your block device, you can <a href="#heading--discover-the-id-of-your-block-device">look it up</a>.</p>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin block-device read xn8taa 8 | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]|(.,map(length*&quot;-&quot;))),([.id,.tags[]]) | @tsv&#39; | column -t</code></pre>
      <p>This command would produce output similar to this:</p>
      <pre class="nohighlight"><code>id  tags
      --  ----
      8   hello  ssd  trinkoplinko
      9   20gig  ssd
      10  250Gs  ssd</code></pre>
      <h2 id="find-partition-id-cli">Find partition ID (CLI)</h2>
      <p>Partitions do not exist apart from the block devices on which they reside. Finding the ID of the partition that interests you requires starting with a particular machine and block device, similar to this command:</p>
      <pre class="nohighlight"><code>maas $PROFILE partitions read $SYSTEM_ID $BLOCK_DEVICE_ID \
      | jq -r &#39;([&quot;system_id&quot;,&quot;block_dev_id&quot;,&quot;part_id&quot;,&quot;path&quot;]
      |(.,map(length*&quot;-&quot;))),(.[]|[.system_id,.device_id,.id,.path])
      |@tsv&#39; | column -t</code></pre>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin partitions read xn8taa 8 \
      | jq -r &#39;([&quot;system_id&quot;,&quot;block_dev_id&quot;,&quot;part_id&quot;,&quot;path&quot;]
      |(.,map(length*&quot;-&quot;))),(.[]|[.system_id,.device_id,.id,.path])
      |@tsv&#39; | column -t</code></pre>
      <p>This example would produce output that looks something like this:</p>
      <pre class="nohighlight"><code>system_id  block_dev_id  part_id  path
      ---------  ------------  -------  ----
      xn8taa     8             67       /dev/disk/by-dname/sda-part1</code></pre>
      <p>The <code>path</code> component is printed to help you confirm that you are choosing the right partition, when there are several present.</p>
      <h2 id="assign-partition-tags-cli">Assign partition tags (CLI)</h2>
      <p>You can only assign tags to a partition that is available. To assign an existing tag to a partition, you would type a command formulated like this:</p>
      <pre class="nohighlight"><code>maas $PROFILE partition add-tag $SYSTEM_ID $BLOCK_DEVICE_ID $PARTITION_ID tag=$TAG_NAME</code></pre>
      <p>If you’re not sure about the ID of your partition, you can <a href="#heading--discover-the-id-of-your-partition">look it up</a>.</p>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin partition add-tag xn8taa 8 67 tag=farquar</code></pre>
      <p>If this command succeeds, it will display <code>Success</code>, followed by a JSON sequence describing the new state of the partition.</p>
      <p>Note that if you try to add a tag to a partition that is not available, that is, to a partition that is in use, you will get a result like this:</p>
      <pre class="nohighlight"><code>Not Found</code></pre>
      <h2 id="remove-partition-tags-cli">Remove partition tags (CLI)</h2>
      <p>You can only remove tags from a partition that is available. To remove a existing tag from a partition, you would type a command formulated like this:</p>
      <pre class="nohighlight"><code>maas $PROFILE partition remove-tag $SYSTEM_ID $BLOCK_DEVICE_ID $PARTITION_ID tag=$TAG_NAME</code></pre>
      <p>If you’re not sure about the ID of your partition, you can <a href="#heading--discover-the-id-of-your-partition">look it up</a>.</p>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin partition remove-tag xn8taa 8 67 tag=farquar</code></pre>
      <p>If this command succeeds, it will display <code>Success</code>, followed by a JSON sequence describing the new state of the partition.</p>
      <p>Note that if you try to remove a tag from a partition that is not available, that is, from a partition that is in use, you will get a result like this:</p>
      <pre class="nohighlight"><code>Not Found</code></pre>
      <p>On the other hand, if you try to remove a tag that is not assigned to the partition you’ve chosen, MAAS will simply return <code>Success</code>, followed by a JSON sequence describing the current state of the partition.</p>
      <h2 id="list-tags-for-all-partitions-cli">List tags for all partitions (CLI)</h2>
      <p>To list tags for all partitions of a particular block device, use a command like this one:</p>
      <pre class="nohighlight"><code>maas $PROFILE partitions read $SYSTEM_ID $BLOCK_DEVICE_ID \
      | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]
      |(.,map(length*&quot;-&quot;))),(.[]|[.id,.tags[]])
      | @tsv&#39; | column -t</code></pre>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin partitions read xn8taa 8 \
      | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]
      |(.,map(length*&quot;-&quot;))),(.[]|[.id,.tags[]])
      | @tsv&#39; | column -t</code></pre>
      <p>A command like this should return output similar to the following:</p>
      <pre class="nohighlight"><code>id  tags
      --  ----
      54  farquar swap opendisk
      67  foobar  farquar
      97  foobar</code></pre>
      <h2 id="view-tags-for-one-partition-cli">View tags for one partition (CLI)</h2>
      <p>To view tags for one partition, enter</p>
      <p>a command like this:</p>
      <pre class="nohighlight"><code>maas $PROFILE partition read $SYSTEM_ID $BLOCK_DEVICE_ID $PARTITION_ID | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]|(.,map(length*&quot;-&quot;))),([.id,.tags[]]) | @tsv&#39; | column -t</code></pre>
      <p>If you’re not sure about the ID of your partition, you can <a href="#heading--discover-the-id-of-your-partition">look it up</a>.</p>
      <p>For example:</p>
      <pre class="nohighlight"><code>maas admin partition read xn8taa 8 67 | jq -r &#39;([&quot;id&quot;,&quot;tags&quot;]|(.,map(length*&quot;-&quot;))),([.id,.tags[]]) | @tsv&#39; | column -t</code></pre>
      <p>This command would produce output similar to this:</p>
      <pre class="nohighlight"><code>id  tags
      --  ----
      67  farquar foobar</code></pre>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
	  let coll = document.getElementsByClassName("collapsible");

	  for (let i = 0; i < coll.length; i++) {
	      coll[i].addEventListener("click", function() {
		  toggleCollapsible(this);
	      });
	  }
      });

      function toggleCollapsible(element) {
	  element.classList.toggle("active");
	  let content = element.nextElementSibling;
	  if (content.style.display === "none" || content.style.display === "") {
	      content.style.display = "block";
	  } else {
	      content.style.display = "none";
	  }
      }

      // Assuming you have a way to identify which menu item should be open, e.g., via URL
      function openMenuItemBasedOnPage() {
	  let currentPage = window.location.href; // or however you determine the current page
	  let menuItem;

	  // Logic to determine which menu item corresponds to the current page
	  if (currentPage.includes("page1")) {
	      menuItem = document.getElementById("menu-item-1");
	  } else if (currentPage.includes("page2")) {
	      menuItem = document.getElementById("menu-item-2");
	  }

	  if (menuItem) {
	      toggleCollapsible(menuItem);
	      menuItem.classList.add("active");
	  }
      }

      // Call this function when the page loads
      openMenuItemBasedOnPage();
    </script>
  </body>
</html>
